<section
  class="bg-grey-900 bg-backg-wave bg-no-repeat bg-cover pt-28 min-h-screen "
>
<h1
    class="px-16 py-4 text-neutral-300 font-bold  text-4xl flex justify-center"
  >
    <%= users.userName%>
  </h1>
  <h1
    class="px-16 py-4  text-black text-xl flex justify-center"
  >
    Thought Diary
  </h1>

  
  <section class="flex flex-col">


      
    <section class="flex align-middle justify-center h-screen  ">
      <!-- image could be a github heatmap for each thought map entry -->
      <section class=" text black hover:text-black hover:scale-105 transition duration-300 ease-in-out max-w-sm rounded-lg overflow-hidden shadow-lg h-full w-full bg-clip-padding backdrop-filter backdrop-blur-sm bg-opacity-20"
      >
        <img
          class="object-cover"
          src="/images/thoughts.svg"
          alt="Sunset in the mountains"
          style="width: 100%; height: 300px"
        />
        <section class=" ">

          <%# for(let i=0; i<thoughts.length; i++) {%>
           
            <% if(thoughtDate != null && new Date(thoughtDate.date).toLocaleDateString('en-GB') === new Date().toLocaleDateString('en-GB')){ %>
               
              <h1 class="text-center p-4 text-lg hover:bg-neutral-600 hover:text-white text-black">Todays thought has already been submitted 
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z" />
              </svg>
               </h1>
              
              <% } else { %>
                <a href="/dashboard/tools/thoughtdiary/0/submit-thought">
                <h1 class="text-center p-4 text-lg hover:bg-neutral-600 hover:text-white text-black">Add Todays Thought</h1>
              </a>
              <% } %>
        
          <%#}%>
        </section>
      </section>
   
    </section>


    <section class="px-16 pt-4">
      <section class="flex justify-center py-2"> 
<form class="flex" action="/dashboard/tools/thoughtdiary/search" method="POST">
        <input type="search" name="searchTerm" id="" class="py-2  px-2 w-64 rounded-l-md  flex justify-center items-center shadow-lg text-base focus:outline-0">
        <button type="submit" class="px-4 text-base shadow rounded-r-md hover:bg-neutral-600 hover:text-white over:scale-105 transition duration-300 ease-in-out max-w-sm overflow-hidden shadow-lg bg-clip-padding backdrop-filter backdrop-blur-sm bg-opacity-20">Search</button>
</form>

<h1></h1>

</section>
<h1 class="text-base font-poppins">Search Results:</h1>


    <!-- covers if the object is undefined or not there -->
    <% if(results  && results !='') { %> <% results.forEach(function(result, index){ %>
      <section class="hover:scale-105 transition delay-150 duration-300 ease-in-out  even:bg-transparent odd:bg-neutral-400  even:text-neutral-500 odd:text-white  mt-5 shadow-md  p-3 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-6 place-items-center text-black text-base  rounded-md bg-clip-padding backdrop-filter backdrop-blur-sm bg-opacity-20  border-white  border-dashed border-2">
        <p class=""><%=result.date.toLocaleDateString('en-GB')%></p>
        <a href="/dashboard/tools/thoughtdiary/0/<%=result.id%>" style="width:70%;height:70px" class="flex justify-center">
        <img class="object-cover rounded-md shadow-md " src="<%=result.image%>" alt="" style="width:70%;height:70px"></a>
        <p class=""><a href="/dashboard/tools/thoughtDiary/categories"><%=result.category%></a></p>
        <p class="flex text-center"><%=result.summary%></p>
        <p class="rating"><%=result.rating%></p>
        <p class=""><a href="/dashboard/tools/thoughtdiary/0/<%=result.id%>"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6  hover:text-teal-700 transform transition duration-500 hover:scale-110 ">
          <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9zm3.75 11.625a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" />
        </svg>
        </a></p>
        </section>
    <% }) %> <% } else { %>
    <p>No items found.</p>
    <% } %>


  
  </section>
<section class="px-16">
  <button class="p-4 bg-teal-700 text-white my-8 rounded-xl"><a href="/dashboard/tools/thoughtdiary">Back to main page</a> </button>
</section>


  </section>



